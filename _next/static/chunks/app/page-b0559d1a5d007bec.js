(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9651:function(e,t,r){Promise.resolve().then(r.bind(r,2329))},2329:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var a=r(5008),n=r(7437),s=r(2265),i=r(9376);r(2446);var l=r(2926),o=r(401),c=r(8919);function d(e){let{currentLatex:t}=e,[r,a]=(0,s.useState)(!1),i=async()=>{if(!t)return;let e=new URL(window.location.href);e.searchParams.set("code",encodeURIComponent(t));try{await navigator.clipboard.writeText(e.toString()),a(!0),setTimeout(()=>a(!1),2e3)}catch(e){console.error("Failed to copy link",e)}};return(0,n.jsxs)("header",{className:"flex h-16 items-center border-b border-gray-200 bg-white px-6 shadow-sm justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-indigo-600 text-white",children:(0,n.jsx)(l.Z,{className:"h-5 w-5"})}),(0,n.jsx)("h1",{className:"text-xl font-bold tracking-tight text-gray-900 hidden sm:block",children:"Katexed"})]}),(0,n.jsx)("div",{className:"flex items-center space-x-4",children:(0,n.jsxs)("button",{onClick:i,className:"flex items-center space-x-2 text-sm font-medium text-gray-600 hover:text-indigo-600 transition-colors",children:[r?(0,n.jsx)(o.Z,{className:"h-4 w-4"}):(0,n.jsx)(c.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:r?"Link Copied!":"Share"})]})})]})}var m=r(5135);function x(){return(0,n.jsx)("footer",{className:"border-t border-gray-200 bg-white py-4",children:(0,n.jsxs)("div",{className:"container mx-auto flex flex-col items-center justify-between px-4 sm:flex-row",children:[(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:["\xa9 ",new Date().getFullYear()," Katexed. Made by"," ",(0,n.jsx)("a",{href:"https://romophic.com",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 font-medium",children:"romophic"}),"."]}),(0,n.jsx)("div",{className:"mt-2 flex items-center space-x-4 sm:mt-0",children:(0,n.jsxs)("a",{href:"https://github.com/romophic/katexed",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-600",children:[(0,n.jsx)(m.Z,{className:"h-5 w-5"}),(0,n.jsx)("span",{className:"sr-only",children:"GitHub"})]})})]})})}var f=r(2289);function h(e){let{value:t,onChange:r}=e;return(0,s.useEffect)(()=>{f._m.init().then(e=>{e.languages.register({id:"latex"})})},[]),(0,n.jsxs)("div",{className:"h-full w-full overflow-hidden rounded-md border border-gray-200 bg-white shadow-sm",children:[(0,n.jsx)("div",{className:"flex h-10 items-center justify-between border-b border-gray-100 bg-gray-50 px-4",children:(0,n.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"LaTeX Source"})}),(0,n.jsx)("div",{className:"h-[calc(100%-2.5rem)]",children:(0,n.jsx)(f.ZP,{height:"100%",defaultLanguage:"latex",value:t,onChange:r,theme:"light",options:{minimap:{enabled:!1},wordWrap:"on",lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,padding:{top:16,bottom:16},fontSize:14,fontFamily:"Geist Mono, monospace"}})})]})}var g=r(144),u=r(3732),b=r(9322),p=r(2489),y=r(866),j=r(8867),w=r(3113),N=r(1947),v=r(1994),k=r(3335);function C(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,k.m6)((0,v.W)(t))}var S=r(8455);function E(e){let{latex:t}=e,r=(0,s.useRef)(null),a=(0,s.useRef)(null),[i,l]=(0,s.useState)("block"),[c,d]=(0,s.useState)(3),[m,x]=(0,s.useState)(!1),[f,h]=(0,s.useState)(!1),[v,k]=(0,s.useState)(null),[E,_]=(0,s.useState)("idle"),[P,T]=(0,s.useState)("#171717"),L=(0,s.useCallback)(async e=>{if(null!==a.current)try{let t;let r={backgroundColor:m?void 0:"#ffffff",skipAutoScale:!0,pixelRatio:c,style:{padding:"20px",margin:"0",color:P}};t="png"===e?await (0,u.YM)(a.current,r):await (0,u.KT)(a.current,r);let n=document.createElement("a");n.download="equation.".concat(e),n.href=t,n.click()}catch(e){console.error("Failed to generate image",e)}},[a,c,m,P]),Z=(0,s.useCallback)(async()=>{if(null!==a.current){_("idle");try{let e=await (0,u.SE)(a.current,{backgroundColor:m?void 0:"#ffffff",skipAutoScale:!0,pixelRatio:c,style:{padding:"20px",margin:"0",color:P}});e&&(await navigator.clipboard.write([new ClipboardItem({[e.type]:e})]),_("copied"),setTimeout(()=>_("idle"),2e3))}catch(e){console.error("Failed to copy image",e),_("error"),setTimeout(()=>_("idle"),2e3)}}},[a,c,m,P]);return(0,s.useEffect)(()=>{try{S.Z.renderToString(t,{throwOnError:!0,displayMode:"block"===i}),k(null)}catch(e){k((e instanceof Error?e.message:"Unknown error").replace("KaTeX parse error: ",""))}},[t,i]),(0,n.jsxs)("div",{className:"flex h-full flex-col rounded-md border border-gray-200 bg-white shadow-sm relative",children:[(0,n.jsx)("div",{className:"flex h-10 items-center justify-between border-b border-gray-100 bg-gray-50 px-4",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Preview"}),(0,n.jsxs)("div",{className:"flex rounded-lg bg-gray-200 p-0.5",children:[(0,n.jsx)("button",{onClick:()=>l("block"),className:C("rounded-md px-2 py-0.5 text-xs font-medium transition-all","block"===i?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:"Block"}),(0,n.jsx)("button",{onClick:()=>l("inline"),className:C("rounded-md px-2 py-0.5 text-xs font-medium transition-all","inline"===i?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:"Inline"})]})]})}),v&&(0,n.jsxs)("div",{className:"absolute top-12 left-4 right-4 z-20 flex items-start space-x-2 rounded-md bg-red-50 p-3 text-red-900 shadow-sm border border-red-200 animate-in fade-in slide-in-from-top-2",children:[(0,n.jsx)(b.Z,{className:"h-5 w-5 flex-shrink-0 text-red-600 mt-0.5"}),(0,n.jsx)("div",{className:"text-sm font-medium break-all",children:v})]}),f&&(0,n.jsxs)("div",{className:"absolute bottom-12 right-4 z-10 w-64 rounded-lg border border-gray-200 bg-white p-4 shadow-lg animate-in fade-in slide-in-from-bottom-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Export Settings"}),(0,n.jsx)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-500",children:(0,n.jsx)(p.Z,{className:"h-4 w-4"})})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-xs font-medium text-gray-500 mb-1.5 block",children:"Image Scale (Resolution)"}),(0,n.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[1,2,3,4].map(e=>(0,n.jsxs)("button",{onClick:()=>d(e),className:C("flex items-center justify-center rounded-md border py-1 text-xs font-medium transition-colors",c===e?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-200 bg-white text-gray-700 hover:bg-gray-50"),children:[e,"x"]},e))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-xs font-medium text-gray-500 mb-1.5 block",children:"Text Color"}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("button",{onClick:()=>T("#171717"),className:C("h-6 w-6 rounded-full border border-gray-300 bg-[#171717] focus:outline-none focus:ring-2 focus:ring-offset-2","#171717"===P?"ring-2 ring-indigo-500 ring-offset-1":""),title:"Black"}),(0,n.jsx)("button",{onClick:()=>T("#ffffff"),className:C("h-6 w-6 rounded-full border border-gray-300 bg-white focus:outline-none focus:ring-2 focus:ring-offset-2","#ffffff"===P?"ring-2 ring-indigo-500 ring-offset-1":""),title:"White"}),(0,n.jsxs)("div",{className:"relative flex items-center",children:[(0,n.jsx)("input",{type:"color",value:P,onChange:e=>T(e.target.value),className:"h-6 w-8 cursor-pointer rounded border-0 bg-transparent p-0 opacity-0 absolute inset-0 z-10"}),(0,n.jsx)("div",{className:C("h-6 w-8 rounded border border-gray-300 flex items-center justify-center text-[10px] font-mono text-gray-500 bg-gray-50","#171717"!==P&&"#ffffff"!==P?"border-indigo-500 ring-1 ring-indigo-500":""),children:"Custom"}),(0,n.jsx)("div",{className:"ml-2 h-4 w-4 rounded-full border border-gray-200",style:{backgroundColor:P}})]})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Transparent Background"}),(0,n.jsx)("button",{onClick:()=>x(!m),className:C("relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2",m?"bg-indigo-600":"bg-gray-200"),children:(0,n.jsx)("span",{"aria-hidden":"true",className:C("pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",m?"translate-x-4":"translate-x-0")})})]})]})]}),(0,n.jsx)("div",{className:"flex flex-grow items-center justify-center overflow-auto p-8 bg-white transition-colors duration-200",ref:r,style:{backgroundColor:m?"#f3f4f6":"#ffffff"},children:(0,n.jsx)("div",{className:"inline-block",ref:a,style:{color:P},children:(0,n.jsx)("div",{className:"text-2xl p-4",children:"block"===i?(0,n.jsx)(g.BlockMath,{errorColor:"#cc0000",renderError:e=>(0,n.jsx)("span",{className:"text-red-600 font-mono text-sm",children:e.message}),children:t}):(0,n.jsx)(g.InlineMath,{errorColor:"#cc0000",renderError:e=>(0,n.jsx)("span",{className:"text-red-600 font-mono text-sm",children:e.message}),children:t})})})}),(0,n.jsxs)("div",{className:"flex items-center justify-end border-t border-gray-100 bg-gray-50 px-4 py-2 space-x-2",children:[(0,n.jsx)("button",{onClick:()=>h(!f),className:C("inline-flex items-center justify-center rounded-md p-1.5 transition-colors mr-2",f||m||"#171717"!==P?"bg-indigo-50 text-indigo-700":"text-gray-500 hover:bg-gray-200"),title:"Export Settings",children:(0,n.jsx)(y.Z,{className:"h-5 w-5"})}),(0,n.jsxs)("button",{onClick:Z,className:C("inline-flex items-center space-x-2 rounded-md px-3 py-1.5 text-sm font-medium shadow-sm ring-1 ring-inset transition-all","copied"===E?"bg-green-50 text-green-700 ring-green-300":"error"===E?"bg-red-50 text-red-700 ring-red-300":"bg-white text-gray-700 ring-gray-300 hover:bg-gray-50"),children:["copied"===E?(0,n.jsx)(o.Z,{className:"h-4 w-4"}):(0,n.jsx)(j.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"copied"===E?"Copied!":"Copy PNG"})]}),(0,n.jsxs)("button",{onClick:()=>L("png"),className:"inline-flex items-center space-x-2 rounded-md bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",title:"Download as PNG",children:[(0,n.jsx)(w.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"PNG"})]}),(0,n.jsxs)("button",{onClick:()=>L("svg"),className:"inline-flex items-center space-x-2 rounded-md bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",title:"Download as SVG",children:[(0,n.jsx)(N.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"SVG"})]})]})]})}function _(){let e=(0,a._)(["% Maxwell's Equations\n\begin{aligned}\n\nabla cdot mathbf{E} &= \frac{\rho}{\varepsilon_0} \\\n\nabla cdot mathbf{B} &= 0 \\\n\nabla 	imes mathbf{E} &= -\frac{partial mathbf{B}}{partial t} \\\n\nabla 	imes mathbf{B} &= mu_0mathbf{J} + mu_0\varepsilon_0\frac{partial mathbf{E}}{partial t}\nend{aligned}\n\n% Schr\xf6dinger Equation\nihbar \frac{partial}{partial t} Psi(mathbf{r}, t) = hat{H} Psi(mathbf{r}, t)"],["% Maxwell's Equations\n\\begin{aligned}\n\\nabla \\cdot \\mathbf{E} &= \\frac{\\rho}{\\varepsilon_0} \\\\\n\\nabla \\cdot \\mathbf{B} &= 0 \\\\\n\\nabla \\times \\mathbf{E} &= -\\frac{\\partial \\mathbf{B}}{\\partial t} \\\\\n\\nabla \\times \\mathbf{B} &= \\mu_0\\mathbf{J} + \\mu_0\\varepsilon_0\\frac{\\partial \\mathbf{E}}{\\partial t}\n\\end{aligned}\n\n% Schr\xf6dinger Equation\ni\\hbar \\frac{\\partial}{\\partial t} \\Psi(\\mathbf{r}, t) = \\hat{H} \\Psi(\\mathbf{r}, t)"]);return _=function(){return e},e}let P=String.raw(_());function T(){let e=(0,i.useSearchParams)().get("code"),[t,r]=function(e,t){let[r,a]=(0,s.useState)(()=>{try{let r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(e){return console.log(e),t}});return[r,t=>{try{let n=t instanceof Function?t(r):t;a(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(e){console.log(e)}}]}("katexed-input",P);return(0,s.useEffect)(()=>{if(e){let a=decodeURIComponent(e);a!==t&&r(a)}},[e]),(0,n.jsxs)("div",{className:"flex min-h-screen flex-col bg-gray-50 text-gray-900 font-sans",children:[(0,n.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"WebApplication",name:"Katexed",url:"https://romophic.github.io/katexed/",description:"A fast, lightweight, and real-time online LaTeX equation editor.",applicationCategory:"EducationalApplication",operatingSystem:"All",author:{"@type":"Person",name:"romophic",url:"https://romophic.com"},offers:{"@type":"Offer",price:"0",priceCurrency:"USD"}})}}),(0,n.jsx)(d,{currentLatex:t}),(0,n.jsx)("main",{className:"flex-grow p-4 md:p-6 lg:p-8 overflow-hidden",children:(0,n.jsxs)("section",{"aria-label":"LaTeX Editor Workspace",className:"mx-auto grid h-[calc(100vh-10rem)] max-w-[1920px] grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,n.jsxs)("div",{className:"flex flex-col h-full min-h-[400px]",role:"region","aria-label":"Code Editor",children:[(0,n.jsx)("h2",{className:"sr-only",children:"LaTeX Input"}),(0,n.jsx)(h,{value:t,onChange:e=>r(e||"")})]}),(0,n.jsxs)("div",{className:"flex flex-col h-full min-h-[400px]",role:"region","aria-label":"Equation Preview",children:[(0,n.jsx)("h2",{className:"sr-only",children:"Equation Preview"}),(0,n.jsx)(E,{latex:t})]})]})}),(0,n.jsx)(x,{})]})}function L(){return(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}),children:(0,n.jsx)(T,{})})}}},function(e){e.O(0,[329,954,639,593,971,117,744],function(){return e(e.s=9651)}),_N_E=e.O()}]);